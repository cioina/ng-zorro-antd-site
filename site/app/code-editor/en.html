<article>
<nz-affix class="toc-affix" [nzOffsetTop]="16">
  <nz-anchor [nzAffix]="false" nzShowInkInFixed (nzClick)="goLink($event)">
    <nz-link class="toc-indent-1" nzHref="#when_to_use" nzTitle="When To Use"></nz-link>
<nz-link class="toc-indent-1" nzHref="#examples" nzTitle="Examples"></nz-link>
<nz-link class="toc-indent-2" nzHref="#components-code-editor-demo-basic" nzTitle="Basic"></nz-link>
<nz-link class="toc-indent-2" nzHref="#components-code-editor-demo-diff" nzTitle="Diff Editor"></nz-link>
<nz-link class="toc-indent-2" nzHref="#components-code-editor-demo-config" nzTitle="Change Config"></nz-link>
<nz-link class="toc-indent-2" nzHref="#components-code-editor-demo-full-control" nzTitle="Full Control Mode"></nz-link>
<nz-link class="toc-indent-2" nzHref="#components-code-editor-demo-complex" nzTitle="Complex"></nz-link>
<nz-link class="toc-indent-1" nzHref="#api" nzTitle="API"></nz-link>
  </nz-anchor>
</nz-affix><section class="markdown">
  <h1>
	Code Editor
	<span class="subtitle"></span>
</h1>

  <component-meta name="code-editor" description="Code Editor based on monaco-editor." language="en"></component-meta>
  
<blockquote style="border-color: #faad14">
<p>NG-ZORRO experiments are features that are released but not yet considered stable or production ready</p>
<p>Developers and users can opt in into these features before they are fully released. But <strong>breaking changes</strong> may occur with any release.</p>
</blockquote>
  <section class="markdown" ngNonBindable>
    <h2 id="when_to_use"><span>When To Use</span><a onclick="window.location.hash = 'when_to_use'" class="anchor">#</a></h2><p>When you want to use monaco editor in Angular.</p>
<h3 id="import_style"><span>Import Style</span><a onclick="window.location.hash = 'import_style'" class="anchor">#</a></h3><pre><code class="language-less"><span class="token variable">&#64;import</span> <span class="token string">'node_modules/ng-zorro-antd/code-editor/style/entry.less'</span><span class="token punctuation">;</span>
</code></pre>
  </section>
  
  <h2 id="examples">
    <span>Examples</span>
    <nz-icon nzType="appstore" class="code-box-expand-trigger" nz-tooltip nzTooltipTitle="Expand All Code" (click)="expandAllCode()" />
    <a onclick="window.location.hash = 'examples'" class="anchor">#</a>
  </h2>
</section>
<div nz-row [nzGutter]="8">
	<div nz-col [nzSpan]="24">
		<nz-code-box
  nzTitle="Basic"
  nzId="components-code-editor-demo-basic"
  nzSelector="nz-demo-code-editor-basic"
  nzLink="components-code-editor-demo-basic"
  nzGenerateCommand="ng g ng-zorro-antd:code-editor-basic <name>"
  nzComponentName="NzDemoCodeEditorBasicComponent"
  [nzIframe]="false"
  nzIframeSource=""
  [nzIframeHeight]="null"
  nzHref="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/code-editor/demo/basic.md"
>
	<nz-demo-code-editor-basic demo></nz-demo-code-editor-basic>
	<div intro ngNonBindable><p>The simplest usage.</p>
</div>
</nz-code-box>
<nz-code-box
  nzTitle="Diff Editor"
  nzId="components-code-editor-demo-diff"
  nzSelector="nz-demo-code-editor-diff"
  nzLink="components-code-editor-demo-diff"
  nzGenerateCommand="ng g ng-zorro-antd:code-editor-diff <name>"
  nzComponentName="NzDemoCodeEditorDiffComponent"
  [nzIframe]="false"
  nzIframeSource=""
  [nzIframeHeight]="null"
  nzHref="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/code-editor/demo/diff.md"
>
	<nz-demo-code-editor-diff demo></nz-demo-code-editor-diff>
	<div intro ngNonBindable><p>Use diff editor mode.</p>
</div>
</nz-code-box>
<nz-code-box
  nzTitle="Change Config"
  nzId="components-code-editor-demo-config"
  nzSelector="nz-demo-code-editor-config"
  nzLink="components-code-editor-demo-config"
  nzGenerateCommand="ng g ng-zorro-antd:code-editor-config <name>"
  nzComponentName="NzDemoCodeEditorConfigComponent"
  [nzIframe]="false"
  nzIframeSource=""
  [nzIframeHeight]="null"
  nzHref="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/code-editor/demo/config.md"
>
	<nz-demo-code-editor-config demo></nz-demo-code-editor-config>
	<div intro ngNonBindable><p>You can change default options and options of existing editors at runtime.</p>
</div>
</nz-code-box>
<nz-code-box
  nzTitle="Full Control Mode"
  nzId="components-code-editor-demo-full-control"
  nzSelector="nz-demo-code-editor-full-control"
  nzLink="components-code-editor-demo-full-control"
  nzGenerateCommand="ng g ng-zorro-antd:code-editor-full-control <name>"
  nzComponentName="NzDemoCodeEditorFullControlComponent"
  [nzIframe]="false"
  nzIframeSource=""
  [nzIframeHeight]="null"
  nzHref="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/code-editor/demo/full-control.md"
>
	<nz-demo-code-editor-full-control demo></nz-demo-code-editor-full-control>
	<div intro ngNonBindable><p>Use full control mode and mangage TextModel of monaco editor by yourself.</p>
</div>
</nz-code-box>
<nz-code-box
  nzTitle="Complex"
  nzId="components-code-editor-demo-complex"
  nzSelector="nz-demo-code-editor-complex"
  nzLink="components-code-editor-demo-complex"
  nzGenerateCommand="ng g ng-zorro-antd:code-editor-complex <name>"
  nzComponentName="NzDemoCodeEditorComplexComponent"
  [nzIframe]="false"
  nzIframeSource=""
  [nzIframeHeight]="null"
  nzHref="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/code-editor/demo/complex.md"
>
	<nz-demo-code-editor-complex demo></nz-demo-code-editor-complex>
	<div intro ngNonBindable><p>A more complex demo with loading effect and toolkit.</p>
</div>
</nz-code-box>

	</div>
</div><section class="markdown api-container" ngNonBindable><h2 id="api"><span>API</span><a onclick="window.location.hash = 'api'" class="anchor">#</a></h2><p>Install <code>monaco-editor</code> in your project first:</p>
<pre><code class="language-sh"><span class="token function">npm</span> <span class="token function">install</span> monaco-editor
</code></pre><h3 id="dynamic_loading"><span>Dynamic Loading</span><a onclick="window.location.hash = 'dynamic_loading'" class="anchor">#</a></h3><p>If you would like to load monaco dynamically (which means you load resources of monaco editor right before you would like to use it), you will need to register assets of monaco editor itself. You can do that by adding these lines in <code>angular.json</code> file:</p>
<pre><code class="language-diff">"assets": [
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &#123;
</span><span class="token prefix inserted">+</span><span class="token line">   "glob": "**/*",
</span><span class="token prefix inserted">+</span><span class="token line">   "input": "./node_modules/monaco-editor/min/vs",
</span><span class="token prefix inserted">+</span><span class="token line">   "output": "/assets/vs/"
</span><span class="token prefix inserted">+</span><span class="token line"> &#125;
</span></span>],
</code></pre><p>If you deploy resources of monaco editor on CDN, you won&#39;t need to modify <code>angular.json</code>. Instead, you must configure the <code>assetsRoot</code> property via <code>NzConfigService</code>. For example, you put resources of monaco editor on <a href="https://mycdn.com/assets/vs" target="_blank" rel="noopener">https://mycdn.com/assets/vs</a>, you should provide <code>&#123; assets: &#39;https://mycdn.com/assets/vs&#39; &#125;</code>.</p>
<blockquote>
<p>If you are going to use static loading (which we will explain in detail at the bottom of this page), you don&#39;t need to modify angular.json file.</p>
</blockquote>
<h3 id="static_loading"><span>Static Loading</span><a onclick="window.location.hash = 'static_loading'" class="anchor">#</a></h3><p>Sometimes you need to load AMD module dynamically. But since monaco editor&#39;s loader patches <code>window[require]</code>, you can not use AMD loader like requireJS. In this situation you need to enable static loading.</p>
<p>With help of <a href="https://github.com/microsoft/monaco-editor-webpack-plugin" target="_blank" rel="noopener">monaco-editor-webpack-plugin</a> by Microsoft, you can do that in a convenient way.</p>
<ol>
<li>Provide the value of <code>NZ_CONFIG</code> in <code>app.config.ts</code> and set <code>useStaticLoading</code> in the <code>codeEditor</code> property to <code>true</code>.</li>
<li>Create a <code>webpack.partial.js</code> file, and config monaco-editor-webpack-loader.</li>
<li>Use custom webpack loader like <a href="https://github.com/manfredsteyer/ngx-build-plus" target="_blank" rel="noopener">ngx-build-plus</a> to load this webpack config.</li>
</ol>
<p>If you use static loading, you should not add assets of monaco editor to your project by modifying <code>angular.json</code> file.</p>
<h3 id="nz-code-editor"><span>nz-code-editor</span><label class="api-type-label component">component</label><a onclick="window.location.hash = 'nz-code-editor'" class="anchor">#</a></h3><table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>[nzEditorMode]</code></td>
<td>Mode of monaco editor</td>
<td><code>normal</code></td>
<td><code>diff</code></td>
</tr>
<tr>
<td><code>[nzLoading]</code></td>
<td>Show the loading spin</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>[nzOriginalText]</code></td>
<td>The content of the left editor in <code>diff</code> mode</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>[nzFullControl]</code></td>
<td>Enable full control mode. User should manage <code>TextModel</code> manually in this mode</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>[nzEditorOption]</code></td>
<td><a href="https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.ieditorconstructionoptions.html" target="_blank" rel="noopener">Please refer to the doc of monaco editor</a></td>
<td><code>IEditorConstructionOptions</code></td>
<td><code>&#123;&#125;</code></td>
</tr>
<tr>
<td><code>[nzToolkit]</code></td>
<td>A placeholder for adding some quick actions</td>
<td><code>TemplateRef&lt;void&gt;</code></td>
<td>-</td>
</tr>
<tr>
<td><code>(nzEditorInitialized)</code></td>
<td>The event that a code editor is initialized</td>
<td><code>IStandaloneCodeEditor</code></td>
<td><code>IStandaloneDiffEditor</code></td>
</tr>
</tbody></table>
<h4 id="methods"><span>Methods</span><a onclick="window.location.hash = 'methods'" class="anchor">#</a></h4><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>layout()</code></td>
<td>Force monaco editor to re-render itself</td>
</tr>
</tbody></table>
<h3 id="global_configuration"><span>Global Configuration</span><a onclick="window.location.hash = 'global_configuration'" class="anchor">#</a></h3><p>You can set the default configuration of the <code>CodeEditor</code> component through the <code>set</code> method of <code>NzConfigService</code>.</p>
<h4 id="codeeditorconfig"><span>CodeEditorConfig</span><a onclick="window.location.hash = 'codeeditorconfig'" class="anchor">#</a></h4><table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>assetsRoot</code></td>
<td>Where should the component load resource of monaco editor</td>
<td><code>string</code></td>
<td><code>SafeUrl</code></td>
</tr>
<tr>
<td><code>defaultEditorOption</code></td>
<td>Default options. <a href="https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IEditorConstructionOptions.html" target="_blank" rel="noopener">Please refer to the doc of monaco editor</a></td>
<td><code>IEditorConstructionOptions</code></td>
<td><code>&#123;&#125;</code></td>
</tr>
<tr>
<td><code>onLoad</code></td>
<td>The hook invoked when the resource of monaco editor is loaded. At this moment and afterwards the global variable <code>monaco</code> is usable (<code>window.MonacoEnvironment = &#123; globalAPI: true &#125;</code> is required if monaco-editor&#39;s version is greater or equal to 0.22.0)</td>
<td><code>() =&gt; void</code></td>
<td>-</td>
</tr>
<tr>
<td><code>onFirstEditorInit</code></td>
<td>The hook invoked when the first monaco editor is initialized</td>
<td><code>() =&gt; void</code></td>
<td>-</td>
</tr>
<tr>
<td><code>onInit</code></td>
<td>The hook invoked every time a monaco editor is initialized</td>
<td><code>() =&gt; void</code></td>
<td>-</td>
</tr>
<tr>
<td><code>useStaticLoading</code></td>
<td>Load monaco editor statically</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
</tr>
</tbody></table>
</section></article>