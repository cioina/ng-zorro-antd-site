<article class="markdown">
  <h1>
	国际化
	<span class="subtitle"></span>
</h1>

<nz-affix class="toc-affix" [nzOffsetTop]="16">
  <nz-anchor [nzAffix]="false" nzShowInkInFixed (nzClick)="goLink($event)">
    <nz-link nzHref="#配置默认国际化语言" nzTitle="配置默认国际化语言"></nz-link><nz-link nzHref="#与-angular-应用本地化方案联动" nzTitle="与 Angular 应用本地化方案联动"></nz-link><nz-link nzHref="#运行时修改" nzTitle="运行时修改"></nz-link><nz-link nzHref="#支持语言" nzTitle="支持语言"></nz-link><nz-link nzHref="#如何使用-date-fns-进行日期格式化" nzTitle="如何使用 date-fns 进行日期格式化"></nz-link><nz-link nzHref="#date-fns-支持语言" nzTitle="date-fns 支持语言"></nz-link><nz-link nzHref="#如何更改默认国际化语言包配置" nzTitle="如何更改默认国际化语言包配置"></nz-link>
  </nz-anchor>
</nz-affix>
  <section class="markdown" ngNonBindable><p>目前的默认文案是中文，如果需要使用其他语言，可以在初始化时进行配置，也可以在运行中随时修改，可以参考下面的方案。
你也可以在新建项目时通过 <code>ng add ng-zorro-antd</code> 设置国际化语言。</p>
<h2 id="配置默认国际化语言"><span>配置默认国际化语言</span><a onclick="window.location.hash = '配置默认国际化语言'" class="anchor">#</a></h2><p><code>ng-zorro-antd</code> 提供了几个配置型 token 用于全局配置国际化文案和日期，<code>NZ_I18N</code>用于国际化文案，<code>NZ_DATE_CONFIG</code>用于修改日期相关特性。
此外，我们默认使用 Angular 的语言包来进行日期格式化（需要引入相应的 Angular 语言包）。</p>
<!-- todo: provideNzDateConfig, provideNzDateLocale  APIs  -->

<p>另外，我们还提供了可选的 <code>NZ_DATE_LOCALE</code> 用于 date-fns 方式来格式化本地日期（依赖 <a href="https://date-fns.org/docs/I18n" target="_blank" rel="noopener"><code>date-fns</code></a> 库，详见下方的<code>如何使用 date-fns 进行日期格式化</code>）。</p>
<pre><code class="language-ts"><span class="token comment">/** 导入需要使用的 Angular 语言包 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> registerLocaleData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'&#64;angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'&#64;angular/common/locales/en'</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 配置 ng-zorro-antd 国际化 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> provideNzI18n<span class="token punctuation">,</span> en_US <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

<span class="token comment">/** 静态配置 **/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token function">provideNzI18n</span><span class="token punctuation">(</span>en_US<span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</code></pre><h2 id="与_angular_应用本地化方案联动"><span>与 Angular 应用本地化方案联动</span><a onclick="window.location.hash = '与_angular_应用本地化方案联动'" class="anchor">#</a></h2><p>当使用 Angular <a href="https://angular.cn/guide/i18n" target="_blank" rel="noopener">应用本地化方案</a> 时，可以根据 <a href="https://angular.cn/api/core/LOCALE_ID" target="_blank" rel="noopener">LOCALE_ID</a> 自动切换 <code>ng-zorro-antd</code> 默认语言</p>
<pre><code class="language-typescript"><span class="token comment">/** 导入需要使用的语言包 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> <span class="token constant">LOCALE_ID</span> <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'&#64;angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> registerLocaleData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'&#64;angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'&#64;angular/common/locales/en'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> zh <span class="token keyword">from</span> <span class="token string">'&#64;angular/common/locales/zh'</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>zh<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 配置 ng-zorro-antd 国际化 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> en_US<span class="token punctuation">,</span> <span class="token constant">NZ_I18N</span><span class="token punctuation">,</span> zh_CN <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

<span class="token comment">/** 根据 LOCALE_ID 自动切换 ng-zorro-antd 语言 **/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      provide<span class="token operator">:</span> <span class="token constant">NZ_I18N</span><span class="token punctuation">,</span>
      <span class="token function-variable function">useFactory</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> localId <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token constant">LOCALE_ID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>localId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">case</span> <span class="token string">'en'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> en_US<span class="token punctuation">;</span>
          <span class="token comment">/** 与 angular.json i18n/locales 配置一致 **/</span>
          <span class="token keyword">case</span> <span class="token string">'zh'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> zh_CN<span class="token punctuation">;</span>
          <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> en_US<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</code></pre><h2 id="运行时修改"><span>运行时修改</span><a onclick="window.location.hash = '运行时修改'" class="anchor">#</a></h2><p><code>ng-zorro-antd</code> 提供了 <code>NzI18nService</code> 服务用于动态修改国际化文案。</p>
<pre><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> en_US<span class="token punctuation">,</span> NzI18nService <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SomeComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> i18n <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>NzI18nService<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">switchLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>en_US<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre><p>注意：<code>en_US</code> 是语言包名称，以下表格也遵循同样的规则。</p>
<h2 id="支持语言"><span>支持语言</span><a onclick="window.location.hash = '支持语言'" class="anchor">#</a></h2><table>
<thead>
<tr>
<th>语言包名</th>
<th>语言</th>
</tr>
</thead>
<tbody><tr>
<td>ar_EG</td>
<td>阿拉伯</td>
</tr>
<tr>
<td>az_AZ</td>
<td>阿塞拜疆</td>
</tr>
<tr>
<td>bg_BG</td>
<td>保加利亚语</td>
</tr>
<tr>
<td>bn_BD</td>
<td>孟加拉语（孟加拉国）</td>
</tr>
<tr>
<td>by_BY</td>
<td>白俄罗斯语</td>
</tr>
<tr>
<td>ca_ES</td>
<td>加泰罗尼亚语</td>
</tr>
<tr>
<td>cs_CZ</td>
<td>捷克语</td>
</tr>
<tr>
<td>da_DK</td>
<td>丹麦语</td>
</tr>
<tr>
<td>de_DE</td>
<td>德语</td>
</tr>
<tr>
<td>el_GR</td>
<td>希腊语</td>
</tr>
<tr>
<td>en_AU</td>
<td>英语（澳大利亚）</td>
</tr>
<tr>
<td>en_GB</td>
<td>英语</td>
</tr>
<tr>
<td>en_US</td>
<td>英语（美式）</td>
</tr>
<tr>
<td>es_ES</td>
<td>西班牙语</td>
</tr>
<tr>
<td>et_EE</td>
<td>爱沙尼亚语</td>
</tr>
<tr>
<td>fa_IR</td>
<td>波斯语</td>
</tr>
<tr>
<td>fi_FI</td>
<td>芬兰语</td>
</tr>
<tr>
<td>fr_BE</td>
<td>法语（比利时）</td>
</tr>
<tr>
<td>fr_CA</td>
<td>法语（加拿大）</td>
</tr>
<tr>
<td>fr_FR</td>
<td>法语</td>
</tr>
<tr>
<td>ga_IE</td>
<td>爱尔兰盖尔语</td>
</tr>
<tr>
<td>gl_ES</td>
<td>加利西亚语（西班牙）</td>
</tr>
<tr>
<td>he_IL</td>
<td>希伯来语</td>
</tr>
<tr>
<td>hi_IN</td>
<td>印地语</td>
</tr>
<tr>
<td>hr_HR</td>
<td>克罗地亚语</td>
</tr>
<tr>
<td>hu_HU</td>
<td>匈牙利</td>
</tr>
<tr>
<td>hy_AM</td>
<td>亚美尼亚</td>
</tr>
<tr>
<td>id_ID</td>
<td>印度尼西亚语</td>
</tr>
<tr>
<td>is_IS</td>
<td>冰岛语</td>
</tr>
<tr>
<td>it_IT</td>
<td>意大利语</td>
</tr>
<tr>
<td>ja_JP</td>
<td>日语</td>
</tr>
<tr>
<td>ka_GE</td>
<td>格鲁吉亚语</td>
</tr>
<tr>
<td>kk_KZ</td>
<td>哈萨克语</td>
</tr>
<tr>
<td>km_KH</td>
<td>高棉语</td>
</tr>
<tr>
<td>kmr_IQ</td>
<td>北库尔德语</td>
</tr>
<tr>
<td>kn_IN</td>
<td>卡纳达语</td>
</tr>
<tr>
<td>ko_KR</td>
<td>韩语/朝鲜语</td>
</tr>
<tr>
<td>ku_IQ</td>
<td>库尔德语</td>
</tr>
<tr>
<td>lt_LT</td>
<td>立陶宛语</td>
</tr>
<tr>
<td>lv_LV</td>
<td>拉脱维亚语</td>
</tr>
<tr>
<td>ml_IN</td>
<td>马拉雅拉姆语</td>
</tr>
<tr>
<td>mn_MN</td>
<td>蒙古语</td>
</tr>
<tr>
<td>ms_MY</td>
<td>马来语</td>
</tr>
<tr>
<td>nb_NO</td>
<td>挪威</td>
</tr>
<tr>
<td>ne_NP</td>
<td>尼泊尔语</td>
</tr>
<tr>
<td>nl_BE</td>
<td>荷兰语（比利时）</td>
</tr>
<tr>
<td>nl_NL</td>
<td>荷兰语</td>
</tr>
<tr>
<td>pl_PL</td>
<td>波兰语</td>
</tr>
<tr>
<td>pt_BR</td>
<td>葡萄牙语(巴西)</td>
</tr>
<tr>
<td>pt_PT</td>
<td>葡萄牙语</td>
</tr>
<tr>
<td>ro_RO</td>
<td>罗马尼亚语</td>
</tr>
<tr>
<td>ru_RU</td>
<td>俄罗斯语</td>
</tr>
<tr>
<td>sk_SK</td>
<td>斯洛伐克语</td>
</tr>
<tr>
<td>sl_SI</td>
<td>斯洛文尼亚</td>
</tr>
<tr>
<td>sr_RS</td>
<td>塞尔维亚</td>
</tr>
<tr>
<td>sv_SE</td>
<td>瑞典语</td>
</tr>
<tr>
<td>ta_IN</td>
<td>泰米尔语</td>
</tr>
<tr>
<td>th_TH</td>
<td>泰语</td>
</tr>
<tr>
<td>tr_TR</td>
<td>土耳其语</td>
</tr>
<tr>
<td>uk_UA</td>
<td>乌克兰语</td>
</tr>
<tr>
<td>ur_PK</td>
<td>乌尔都语 (巴基斯坦)</td>
</tr>
<tr>
<td>vi_VN</td>
<td>越南语</td>
</tr>
<tr>
<td>zh_CN</td>
<td>简体中文</td>
</tr>
<tr>
<td>zh_HK</td>
<td>繁体中文</td>
</tr>
<tr>
<td>zh_TW</td>
<td>繁体中文</td>
</tr>
</tbody></table>
<h2 id="如何使用_date-fns_进行日期格式化"><span>如何使用 date-fns 进行日期格式化</span><a onclick="window.location.hash = '如何使用_date-fns_进行日期格式化'" class="anchor">#</a></h2><p>对于日期的格式化，我们默认采用 Angular 的 DatePipe（<a href="https://angular.cn/api/common/DatePipe" target="_blank" rel="noopener">语法参考</a>来实现（依赖Angular的locale语言包），但由于Angular自带的DatePipe并非按照ISO标准算法实现（<a href="https://github.com/angular/angular/issues/25380" target="_blank" rel="noopener">issue #25380</a>），使用时周数的展示可能与预期不符（相关issue: <a href="https://github.com/NG-ZORRO/ng-zorro-antd/issues/2406" target="_blank" rel="noopener">#2406</a>, <a href="https://github.com/NG-ZORRO/ng-zorro-antd/issues/2819" target="_blank" rel="noopener">#2819</a>）。</p>
<p>所以我们新提供了<code>date-fns</code>方式（<a href="https://date-fns.org/docs/format#description" target="_blank" rel="noopener">语法参考</a>）来进行标准的日期格式化，您可以通过以下方式切换至 <code>date-fns</code>（切换后将影响所有日期类组件如Calendar/DatePicker的日期格式化）：</p>
<pre><code class="language-ts"><span class="token comment">// 在 App Config 中设置 NZ_DATE_LOCALE 的值，将激活 date-fns 方式的日期格式化展示</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> enUS<span class="token punctuation">,</span> ja <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'date-fns/locale'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> provide<span class="token operator">:</span> <span class="token constant">NZ_DATE_LOCALE</span><span class="token punctuation">,</span> useValue<span class="token operator">:</span> enUS <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// 运行时切换语言为日语</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NzI18nService <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> i18n <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>NzI18nService<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">switchLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setDateLocale</span><span class="token punctuation">(</span>ja<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre><p>切换成功后，可以选择移除掉对 Angular Locales 包的依赖（删除下方代码）来减小打包体积（前提是代码对其无依赖）:</p>
<pre><code class="language-ts"><span class="token comment">// 以下代码可根据需要移除</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> registerLocaleData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'&#64;angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'&#64;angular/common/locales/en'</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="nz_date_config_日期全局配置"><span>NZ_DATE_CONFIG 日期全局配置</span><a onclick="window.location.hash = 'nz_date_config_日期全局配置'" class="anchor">#</a></h3><p>默认配置如下：</p>
<pre><code class="language-ts"><span class="token punctuation">&#123;</span>
  <span class="token comment">/** 指定哪一天为一周的开始（null表示采用内部默认值，0表示星期日，1表示星期一，以此类推） */</span>
  firstDayOfWeek<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
</code></pre><h2 id="date-fns_支持语言"><span>date-fns 支持语言</span><a onclick="window.location.hash = 'date-fns_支持语言'" class="anchor">#</a></h2><p><a href="https://date-fns.org/docs/I18n#supported-languages" target="_blank" rel="noopener">https://date-fns.org/docs/I18n#supported-languages</a></p>
<h2 id="如何更改默认国际化语言包配置"><span>如何更改默认国际化语言包配置</span><a onclick="window.location.hash = '如何更改默认国际化语言包配置'" class="anchor">#</a></h2><p><code>ng-zorro</code> 中有些组件的文本依赖于国际化文本，例如 <code>nz-pagination</code> 中的 <code>size changer</code>, 这时候你可以修改国际化配置来更改 <code>size changer</code> 中的文本内容：</p>
<pre><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> en_US<span class="token punctuation">,</span> provideNzI18n <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> customLanguagePack <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  en_US<span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token punctuation">&#123;</span>
    Pagination<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      items_per_page<span class="token operator">:</span> <span class="token string">'per page'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">provideNzI18n</span><span class="token punctuation">(</span>customLanguagePack<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</code></pre></section>
</article>